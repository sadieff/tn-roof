let gameItems = [
    {
        'startImage' : 'images/game-picture-1.png',
        'correctImage' : 'images/game-picture-2.png',
        'completed' : false,
        'answers' : [
            {
                'picture' : 'images/game-answer-1.png',
                'state' : true,
                'selected' : false
            },
            {
                'picture' : 'images/game-answer-2.png',
                'state' : false,
                'selected' : false
            },
            {
                'picture' : 'images/game-answer-3.png',
                'state' : false,
                'selected' : false
            },
            {
                'picture' : 'images/game-answer-4.png',
                'state' : false,
                'selected' : false
            }
        ]
    },
    {
        'startImage' : 'images/game-picture-2.png',
        'correctImage' : 'images/game-picture-3.png',
        'completed' : false,
        'answers' : [
            {
                'picture' : 'images/game-answer-5.png',
                'state' : true,
                'selected' : false
            },
            {
                'picture' : 'images/game-answer-4.png',
                'state' : false,
                'selected' : false
            },
            {
                'picture' : 'images/game-answer-11.png',
                'state' : false,
                'selected' : false
            },
            {
                'picture' : 'images/game-answer-6.png',
                'state' : false,
                'selected' : false
            }
        ]
    },
    {
        'startImage' : 'images/game-picture-3.png',
        'correctImage' : 'images/game-picture-4.png',
        'completed' : false,
        'answers' : [
            {
                'picture' : 'images/game-answer-7.png',
                'state' : false,
                'selected' : false
            },
            {
                'picture' : 'images/game-answer-8.png',
                'state' : false,
                'selected' : false
            },
            {
                'picture' : 'images/game-answer-6.png',
                'state' : true,
                'selected' : false
            },
            {
                'picture' : 'images/game-answer-9.png',
                'state' : false,
                'selected' : false
            }
        ]
    },
    {
        'startImage' : 'images/game-picture-4.png',
        'correctImage' : 'images/game-picture-5.png',
        'completed' : false,
        'answers' : [
            {
                'picture' : 'images/game-answer-5.png',
                'state' : false,
                'selected' : false
            },
            {
                'picture' : 'images/game-answer-9.png',
                'state' : false,
                'selected' : false
            },
            {
                'picture' : 'images/game-answer-10.png',
                'state' : false,
                'selected' : false
            },
            {
                'picture' : 'images/game-answer-11.png',
                'state' : true,
                'selected' : false
            }
        ]
    },
    {
        'startImage' : 'images/game-picture-5.png',
        'correctImage' : 'images/game-picture-6.png',
        'completed' : false,
        'answers' : [
            {
                'picture' : 'images/game-answer-5.png',
                'state' : false,
                'selected' : false
            },
            {
                'picture' : 'images/game-answer-12.png',
                'state' : true,
                'selected' : false
            },
            {
                'picture' : 'images/game-answer-8.png',
                'state' : false,
                'selected' : false
            },
            {
                'picture' : 'images/game-answer-9.png',
                'state' : false,
                'selected' : false
            }
        ]
    },
    {
        'startImage' : 'images/game-picture-7.png',
        'correctImage' : 'images/game-picture-8.png',
        'completed' : false,
        'answers' : [
            {
                'picture' : 'images/game-answer-1.png',
                'state' : false,
                'selected' : false
            },
            {
                'picture' : 'images/game-answer-10.png',
                'state' : true,
                'selected' : false
            },
            {
                'picture' : 'images/game-answer-13.png',
                'state' : false,
                'selected' : false
            },
            {
                'picture' : 'images/game-answer-8.png',
                'state' : false,
                'selected' : false
            }
        ]
    },
    {
        'startImage' : 'images/game-picture-8.png',
        'correctImage' : 'images/game-picture-9.png',
        'completed' : false,
        'answers' : [
            {
                'picture' : 'images/game-answer-7.png',
                'state' : true,
                'selected' : false
            },
            {
                'picture' : 'images/game-answer-12.png',
                'state' : false,
                'selected' : false
            },
            {
                'picture' : 'images/game-answer-11.png',
                'state' : false,
                'selected' : false
            },
            {
                'picture' : 'images/game-answer-8.png',
                'state' : false,
                'selected' : false
            }
        ]
    },
    {
        'startImage' : 'images/game-picture-9.png',
        'correctImage' : 'images/game-picture-10.png',
        'completed' : false,
        'answers' : [
            {
                'picture' : 'images/game-answer-12.png',
                'state' : false,
                'selected' : false
            },
            {
                'picture' : 'images/game-answer-13.png',
                'state' : false,
                'selected' : false
            },
            {
                'picture' : 'images/game-answer-6.png',
                'state' : false,
                'selected' : false
            },
            {
                'picture' : 'images/game-answer-9.png',
                'state' : true,
                'selected' : false
            }
        ]
    },
    {
        'startImage' : 'images/game-picture-10.png',
        'correctImage' : 'images/game-picture-11.png',
        'completed' : false,
        'answers' : [
            {
                'picture' : 'images/game-answer-14.png',
                'state' : true,
                'selected' : false
            },
            {
                'picture' : 'images/game-answer-2.png',
                'state' : false,
                'selected' : false
            },
            {
                'picture' : 'images/game-answer-13.png',
                'state' : false,
                'selected' : false
            },
            {
                'picture' : 'images/game-answer-11.png',
                'state' : false,
                'selected' : false
            }
        ]
    },
    {
        'startImage' : 'images/game-picture-11.png',
        'correctImage' : 'images/game-picture-12.png',
        'completed' : false,
        'answers' : [
            {
                'picture' : 'images/game-answer-13.png',
                'state' : true,
                'selected' : false
            },
            {
                'picture' : 'images/game-answer-9.png',
                'state' : false,
                'selected' : false
            },
            {
                'picture' : 'images/game-answer-10.png',
                'state' : false,
                'selected' : false
            },
            {
                'picture' : 'images/game-answer-11.png',
                'state' : false,
                'selected' : false
            }
        ]
    },
    {
        'startImage' : 'images/game-picture-12.png',
        'correctImage' : 'images/game-picture-13.png',
        'completed' : false,
        'answers' : [
            {
                'picture' : 'images/game-answer-9.png',
                'state' : false,
                'selected' : false
            },
            {
                'picture' : 'images/game-answer-1.png',
                'state' : false,
                'selected' : false
            },
            {
                'picture' : 'images/game-answer-13.png',
                'state' : false,
                'selected' : false
            },
            {
                'picture' : 'images/game-answer-8.png',
                'state' : true,
                'selected' : false
            }
        ]
    }
];

var game = new Vue({
    el: '#game-app',
    data: {
        items: gameItems,
        showStartItem: true,
        showViewItem: false,
        showItems: false,
        showResult: false,
        testPosition: 0
    },
    methods: {

        // Отображение позиции вопроса
        showView: function() {
            this.showStartItem = false;
            this.showViewItem = true;
            let that = this;

            setTimeout(function(){

                that.showViewItem = false;
                that.showItems = true;

            }, 10000)
        },
        progressClass: function(itemKey){ // класс для отображения текущего состояния слайда
            if(this.items[itemKey].completed == true) return 'success';
            else if(itemKey == this.testPosition) return 'active';
        },
        setAnswerStatus: function(answerKey, k){
            this.items[k].answers[answerKey].selected = true;
        },
        setIcon: function(answerKey, k, state){ // Обработчик: клик на ответ
            if(
                this.items[k].answers[answerKey].selected == true &&
                this.items[k].answers[answerKey].state == state
            ) {
                if(state == true) { // Выбрали правильный ответ
                    this.items[k].completed = true;

                    let that = this;

                    setTimeout(function(){
                        let value = k + 1;
                        if(value >= that.items.length) {
                            that.showItems = false;
                            that.showResult = true;
                        }
                        else that.testPosition = value;
                    }, 2000);

                }
                return true;
            }
            else return false;
        },
        setImage: function (k){ // отображение основного изображения в вопросе
            if(this.items[k].completed == true) {
                return this.items[k].correctImage
            }
            else return this.items[k].startImage
        },
        showItem: function(itemKey){
            if(itemKey == this.testPosition && this.showItems == true) return true;
            else return false;
        }

    }
});